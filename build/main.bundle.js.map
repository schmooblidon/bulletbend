{"version":3,"sources":["webpack:///webpack/bootstrap 884f9c2b5f072a47b993","webpack:///./js/main.js","webpack:///./js/actions/guns/Guns.js","webpack:///./js/input.js","webpack:///./js/bullet.js","webpack:///./js/utils/Vec.js","webpack:///./js/physics.js","webpack:///./js/player.js","webpack:///./js/render.js","webpack:///./js/actions/StateMachine.js","webpack:///./js/actions/curve.js","webpack:///./js/actions/guns/machineGun.js","webpack:///./js/actions/guns/pistol.js","webpack:///./js/actions/wait.js","webpack:///./js/utils/CircleCollider.js","webpack:///./js/utils/Point.js"],"names":["setTime","elem","document","getElementById","params","fullscreen","two","Two","appendTo","p","bulletList","playing","time","t","startPrompt","pauseScreen","console","log","navigator","getGamepads","gameLoop","input","updateInput","s","style","display","setTimeout","start","remove","play","onkeydown","onkeyup","Guns","fireBullet","pistol","machineGun","curve","push","gunAngle","pos","x","gunShape","vertices","Math","cos","facingAngle","y","sin","timer","findInput","overrideKeyboardEvent","controllerIndex","controllerType","lStickX","lStickY","rStickX","rStickY","lTrigger","rTrigger","lBumper","rBumper","a","b","angle","magnitude","rAngle","rMagnitude","i","keys","gamepads","gamepad","undefined","axes","abs","buttons","pressed","value","min","atan2","sqrt","pow","length","j","id","e","keyCode","type","disabledEventPropagation","preventDefault","stopPropagation","event","cancelBubble","bullet","posx","posy","owner","vel","curvePower","life","shell","makeCircle","translation","set","width","height","fill","noStroke","physics","angleChange","max","Vec","Dot","vec","maxSpeed","walkSpeed","angles","angledMax","friction","startSigns","sign","stateMachine","currentState","main","destroyQueue","splice","player","gunLockout","gunLockoutTimer","guns","currentGun","gunList","switchGun","move","bulletTimeActive","PI","collider","head","upperArm","makeLine","foreArm","upperArmAngle","upperArmLength","stroke","linewidth","foreArmAngle","foreArmLength","arm","makeGroup","leftLeg","rightLeg","legs","walkCycle","walkDirection","skeleton","body","render","rotation","StateMachine","wait","init","interrupt","exit","CircleCollider","radius","point","Point"],"mappings":"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","file":"main.bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 884f9c2b5f072a47b993","import {player} from \"./player\";\r\nimport {physics} from \"./physics\";\r\nimport {render} from \"./render\";\r\nimport {overrideKeyboardEvent, findInput} from \"./input\";\r\n\r\n// setting up renderer\r\nconst elem = document.getElementById(\"game\");\r\nconst params = {fullscreen : true};\r\nexport const two = new Two(params).appendTo(elem);\r\n\r\n// setting up player\r\nexport const p = new player();\r\n\r\nexport let bulletList = [];\r\n\r\n// setting up other variables\r\nlet playing = false;\r\nexport let time = 1;\r\n\r\nexport function setTime(t) {\r\n  time = t;\r\n}\r\n\r\n// storing html elements\r\nconst startPrompt = document.getElementById(\"startPrompt\");\r\nconst pauseScreen = document.getElementById(\"pause\");\r\n\r\n// always handy to have this ready to inspect\r\nconsole.log(navigator.getGamepads());\r\n\r\n// defining the game logic loop\r\nfunction gameLoop() {\r\n  // get current input\r\n  p.input.updateInput();\r\n  // if hit start, pause/unpause\r\n  if (p.input.s[0] && !p.input.s[1]) {\r\n    playing ^= true;\r\n    pauseScreen.style.display = playing ? \"none\" : \"block\";\r\n  }\r\n  if (playing) {\r\n    physics(p);\r\n    render(p);\r\n  }\r\n  setTimeout(function(){gameLoop()}, 16.666667);\r\n}\r\n\r\n// when page is loaded and it asks for input\r\nfunction start() {\r\n  if (!playing) {\r\n    if (findInput(p)){\r\n      // start game logic and render loops\r\n      p.input.s[0] = true;\r\n      playing = true;\r\n      startPrompt.remove();\r\n      gameLoop();\r\n      two.play();\r\n    }\r\n    setTimeout(function(){start()}, 16.6666667);\r\n  }\r\n}\r\n\r\n// overriding keyboard events to disable unwanted events and store properly\r\ndocument.onkeydown = overrideKeyboardEvent;\r\ndocument.onkeyup = overrideKeyboardEvent;\r\n\r\nstart();\n\n\n// WEBPACK FOOTER //\n// ./js/main.js","import {pistol} from \"./pistol\";\r\nimport {machineGun} from \"./machineGun\";\r\nimport {bulletList} from \"../../main\";\r\nimport {bullet} from \"../../bullet\";\r\n\r\nexport function Guns() {\r\n  this.pistol = pistol;\r\n  this.machineGun = machineGun;\r\n}\r\n\r\nexport function fireBullet(p, curve) {\r\n  bulletList.push(new bullet(p, p.gunAngle, p.pos.x + p.gunShape.vertices[1].x * Math.cos(p.facingAngle) - -p.gunShape.vertices[1].y * Math.sin(p.facingAngle), p.pos.y + (p.gunShape.vertices[1].x * Math.sin(p.facingAngle) + -p.gunShape.vertices[1].y * Math.cos(p.facingAngle)), curve ? p.timer : 0));\r\n}\n\n\n// WEBPACK FOOTER //\n// ./js/actions/guns/Guns.js","export function input() {\r\n  this.controllerIndex = -1;\r\n  this.controllerType = \"None\";\r\n  this.lStickX = [0];\r\n  this.lStickY = [0];\r\n  this.rStickX = [0];\r\n  this.rStickY = [0];\r\n  this.lTrigger = [0];\r\n  this.rTrigger = [0];\r\n  this.lBumper = [false];\r\n  this.rBumper = [false];\r\n  this.a = [false];\r\n  this.s = [false];\r\n  this.x = [false];\r\n  this.y = [false];\r\n  this.b = [false];\r\n\r\n  this.angle = [0];\r\n  this.magnitude = [0];\r\n\r\n  this.rAngle = [0];\r\n  this.rMagnitude = [0];\r\n\r\n  this.updateInput = function() {\r\n    // push inputs back a frame in history\r\n    for (let i=4;i>0;i--) {\r\n      this.lStickX[i] = this.lStickX[i-1];\r\n      this.lStickY[i] = this.lStickY[i-1];\r\n      this.rStickX[i] = this.rStickX[i-1];\r\n      this.rStickY[i] = this.rStickY[i-1];\r\n      this.a[i] = this.a[i-1];\r\n      this.x[i] = this.x[i-1];\r\n      this.y[i] = this.y[i-1];\r\n      this.b[i] = this.b[i-1];\r\n      this.lTrigger[i] = this.lTrigger[i-1];\r\n      this.rTrigger[i] = this.rTrigger[i-1];\r\n      this.lBumper[i] = this.lBumper[i-1];\r\n      this.rBumper[i] = this.rBumper[i-1];\r\n      this.s[i] = this.s[i-1];\r\n      this.angle[i] = this.angle[i-1];\r\n      this.magnitude[i] = this.magnitude[i-1];\r\n      this.rAngle[i] = this.rAngle[i-1];\r\n      this.rMagnitude[i] = this.rMagnitude[i-1];\r\n    }\r\n\r\n    // if using keyboard\r\n    if (this.controllerIndex === -1) {\r\n      this.lStickX[0] = (keys[39] ? 1 : 0) + (keys[37] ? -1 : 0);\r\n      this.lStickY[0] = (keys[38] ? 1 : 0) + (keys[40] ? -1 : 0);\r\n      this.rTrigger[0] = keys[32] ? 1 : 0;\r\n      this.lTrigger[0] = keys[16] ? 1 : 0;\r\n      this.lBumper[0] = keys[87];\r\n      this.rBumper[0] = keys[69];\r\n      this.s[0] = keys[13] || keys[80];\r\n    }\r\n    // else if using a gamepad\r\n    else {\r\n      const gamepads = navigator.getGamepads();\r\n      const gamepad = gamepads[this.controllerIndex];\r\n      // if gamepad is unplugged or removed. change to keyboard\r\n      if (gamepad === null || gamepad === undefined) {\r\n        this.controllerIndex = -1;\r\n      }\r\n      else {\r\n        this.lStickX[0] = gamepad.axes[0];\r\n        this.lStickY[0] = gamepad.axes[1] * -1;\r\n        if (Math.abs(this.lStickY[0]) < 0.3 && Math.abs(this.lStickX[0]) < 0.3) {\r\n          this.lStickX[0] = 0;\r\n          this.lStickY[0] = 0;\r\n        }\r\n\r\n        this.rStickX[0] = gamepad.axes[2];\r\n        this.rStickY[0] = gamepad.axes[3] * -1;\r\n        if (Math.abs(this.rStickY[0]) < 0.3 && Math.abs(this.rStickX[0]) < 0.3) {\r\n          this.rStickX[0] = 0;\r\n          this.rStickY[0] = 0;\r\n        }\r\n        \r\n        if (this.controllerType === \"Xbox\") {\r\n          this.a[0] = gamepad.buttons[0].pressed;\r\n          this.b[0] = gamepad.buttons[1].pressed;\r\n          this.x[0] = gamepad.buttons[2].pressed;\r\n          this.y[0] = gamepad.buttons[3].pressed;\r\n          this.lTrigger[0] = gamepad.buttons[6].value;\r\n          this.rTrigger[0] = gamepad.buttons[7].value;\r\n          this.lBumper[0] = gamepad.buttons[4].pressed;\r\n          this.rBumper[0] = gamepad.buttons[5].pressed;\r\n          this.s[0] = gamepad.buttons[9].pressed;\r\n        }\r\n        else if (this.controllerType === \"Mayflash\") {\r\n          this.a[0] = gamepad.buttons[1].pressed;\r\n          this.lTrigger[0] = (gamepad.axes[3] + 0.8) < 0.3 ? 0 : Math.min(1, gamepad.axes[3] + 0.8);\r\n          this.rTrigger[0] = (gamepad.axes[4] + 0.8) < 0.3 ? 0 : Math.min(1, gamepad.axes[4] + 0.8);\r\n          this.lBumper[0] = gamepad.buttons[3].pressed;\r\n          this.rBumper[0] = gamepad.buttons[0].pressed;\r\n          this.s[0] = gamepad.buttons[9].pressed;\r\n        }\r\n      }\r\n    }\r\n\r\n    // calculate new inputs\r\n    this.angle[0] = Math.atan2(this.lStickY[0], this.lStickX[0]);\r\n    this.magnitude[0] = Math.min(1, Math.sqrt(Math.pow(this.lStickX[0], 2) + Math.pow(this.lStickY[0], 2)));\r\n\r\n    this.rAngle[0] = Math.atan2(this.rStickY[0], this.rStickX[0]);\r\n    this.rMagnitude[0] = Math.min(1, Math.sqrt(Math.pow(this.rStickX[0], 2) + Math.pow(this.rStickY[0], 2)));\r\n  }\r\n}\r\n\r\nexport function findInput(p) {\r\n  // if enter or space is hit\r\n  if (keys[13] || keys[32]) {\r\n    p.input.controllerIndex = -1;\r\n    return true;\r\n  }\r\n  // else look for a button press on a gamepad\r\n  else {\r\n    const gamepads = navigator.getGamepads();\r\n    for (let i=0;i<gamepads.length;i++) {\r\n      if (gamepads[i] !== null && gamepads[i] !== undefined) {\r\n        for (let j=0;j<gamepads[i].buttons.length;j++) {\r\n          if (gamepads[i].buttons[j].pressed) {\r\n            p.input.controllerIndex = i;\r\n            if (gamepads[i].id === \"Xbox 360 Controller (XInput STANDARD GAMEPAD)\") {\r\n              p.input.controllerType = \"Xbox\";\r\n            }\r\n            else if (gamepads[i].id === \"MAYFLASH GameCube Controller Adapter (Vendor: 0079 Product: 1843)\") {\r\n              p.input.controllerType = \"Mayflash\";\r\n            }\r\n            else {\r\n              console.log(gamepads[i].id);\r\n            }\r\n            return true;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n  return false;\r\n}\r\n\r\nexport const keys = {};\r\n\r\nexport function overrideKeyboardEvent (e){\r\n  // do this for all keys except f5 and f11\r\n  if (e.keyCode != 122 && e.keyCode != 116){\r\n    switch(e.type){\r\n      case \"keydown\":\r\n        if (!keys[e.keyCode]) {\r\n          keys[e.keyCode] = true;\r\n        }\r\n        break;\r\n      case \"keyup\":\r\n        delete(keys[e.keyCode]);\r\n        break;\r\n    }\r\n    disabledEventPropagation(e);\r\n    e.preventDefault();\r\n    return false;\r\n  } else {\r\n    return true;\r\n  }\r\n}\r\n\r\nfunction disabledEventPropagation (e){\r\n  if(e){\r\n    if(e.stopPropagation){\r\n      e.stopPropagation();\r\n    } else if(event){\r\n       event.cancelBubble = true;\r\n    }\r\n  }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./js/input.js","import {two, time} from \"./main\";\r\nimport {Vec} from \"./utils/Vec\";\r\n\r\nexport function bullet(p, angle, posx, posy, curve) {\r\n  this.owner = p;\r\n\r\n  this.pos = new Vec(posx, posy);\r\n\r\n  this.angle = angle;\r\n\r\n  this.vel = new Vec(Math.cos(this.angle)*30, Math.sin(this.angle)*30);\r\n\r\n  this.curvePower = curve;\r\n\r\n  this.life = 0;\r\n\r\n  this.shell = two.makeCircle(0,0, 5);\r\n  this.shell.translation.set(two.width/2 + this.pos.x, two.height/2 + this.pos.y);\r\n  this.shell.fill = \"#dddd33\";\r\n  this.shell.noStroke();\r\n\r\n  this.physics = function() {\r\n    this.life += time;\r\n    if (this.life > 100) {\r\n      return true;\r\n    }\r\n    let angleChange = 0;\r\n    if (this.life < 20) {\r\n      angleChange = (-this.curvePower / Math.max(1, 20 - this.life)) * 0.05 * time;\r\n    }\r\n    else {\r\n      angleChange = (-this.curvePower / (this.life-19)) * 0.1 * time;\r\n    }\r\n    \r\n    this.vel.x = this.vel.x * Math.cos(angleChange) - this.vel.y * Math.sin(angleChange);\r\n    this.vel.y = this.vel.x * Math.sin(angleChange) + this.vel.y * Math.cos(angleChange);\r\n\r\n    this.pos.x += this.vel.x * time;\r\n    this.pos.y += this.vel.y * time;\r\n    return false;\r\n  }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./js/bullet.js","export function Vec(x = 0, y = 0){\r\n  this.x = x;\r\n  this.y = y;\r\n\r\n  this.Dot = function(vec) {\r\n    return this.x*vec.x + this.y*vec.y;\r\n  }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./js/utils/Vec.js","import {bulletList, time, setTime} from \"./main\";\r\nimport {bullet} from \"./bullet\"; \r\n\r\nexport function physics(p) {\r\n  if (p.input.magnitude[0] > 0) {\r\n    let maxSpeed = p.input.magnitude[0]*p.walkSpeed;\r\n    let angles = [Math.cos(p.input.angle[0]), Math.sin(p.input.angle[0])];\r\n    let angledMax = [maxSpeed*angles[0], maxSpeed*angles[1]];\r\n    if (angledMax[0] > 0) {\r\n      if (p.vel.x > angledMax[0]) {\r\n        p.vel.x -= angles[0]*p.friction;\r\n        if (p.vel.x < angledMax[0]) {\r\n          p.vel.x = angledMax[0];\r\n        }\r\n      }\r\n      else {\r\n        p.vel.x = Math.cos(p.input.angle[0])*p.input.magnitude[0]*p.walkSpeed;\r\n      }\r\n    }\r\n    else {\r\n      if (p.vel.x < angledMax[0]) {\r\n        p.vel.x -= angles[0]*p.friction;\r\n        if (p.vel.x > angledMax[0]) {\r\n          p.vel.x = angledMax[0];\r\n        }\r\n      }\r\n      else {\r\n        p.vel.x = Math.cos(p.input.angle[0])*p.input.magnitude[0]*p.walkSpeed;\r\n      }\r\n    }\r\n\r\n    if (angledMax[1] > 0) {\r\n      if (p.vel.y > angledMax[1]) {\r\n        p.vel.y -= angles[1]*p.friction;\r\n        if (p.vel.y < angledMax[1]) {\r\n          p.vel.y = angledMax[1];\r\n        }\r\n      }\r\n      else {\r\n        p.vel.y = Math.sin(p.input.angle[0])*p.input.magnitude[0]*p.walkSpeed;\r\n      }\r\n    }\r\n    else {\r\n      if (p.vel.y < angledMax[1]) {\r\n        p.vel.y -= angles[1]*p.friction;\r\n        if (p.vel.y > angledMax[1]) {\r\n          p.vel.y = angledMax[1];\r\n        }\r\n      }\r\n      else {\r\n        p.vel.y = Math.sin(p.input.angle[0])*p.input.magnitude[0]*p.walkSpeed;\r\n      }\r\n    }\r\n  }\r\n  else {\r\n    let angle = Math.atan2(p.vel.y, p.vel.x);\r\n    let startSigns = [Math.sign(p.vel.x), Math.sign(p.vel.y)];\r\n    p.vel.x -= Math.cos(angle)*p.friction;\r\n    p.vel.y -= Math.sin(angle)*p.friction;\r\n    if (Math.sign(p.vel.x) != startSigns[0]) {\r\n      p.vel.x = 0;\r\n    }\r\n    if (Math.sign(p.vel.y) != startSigns[1]) {\r\n      p.vel.y = 0;\r\n    }\r\n  }\r\n\r\n  if (p.input.rMagnitude[0] > 0) {\r\n    p.facingAngle = p.input.rAngle[0];\r\n  }\r\n  p.gunAngle = p.facingAngle;\r\n\r\n  p.stateMachine[p.currentState].main(p);\r\n\r\n  let destroyQueue = [];\r\n  for (let i=0;i<bulletList.length;i++) {\r\n    if (bulletList[i].physics()) {\r\n      destroyQueue.push(i);\r\n    }\r\n  }\r\n  for (let i=0;i<destroyQueue.length;i++) {\r\n    bulletList[destroyQueue[i]-i].shell.remove();\r\n    bulletList.splice(destroyQueue[i]-i,1);\r\n  }\r\n\r\n  setTime(Math.max(0.25, 1 - p.input.lTrigger[0]));\r\n\r\n\r\n  p.pos.x += p.vel.x * 6 * time;\r\n  p.pos.y += p.vel.y * 6 * time;\r\n}\n\n\n// WEBPACK FOOTER //\n// ./js/physics.js","import {Vec} from \"./utils/Vec\";\r\nimport {CircleCollider} from \"./utils/CircleCollider\";\r\nimport {two} from \"./main\";\r\nimport {input} from \"./input\";\r\nimport {Guns} from \"./actions/guns/Guns\";\r\nimport {StateMachine} from \"./actions/StateMachine\";\r\n\r\nexport function player() {\r\n  this.pos = new Vec();\r\n\r\n  this.vel = new Vec();\r\n  this.friction = 0.15;\r\n  this.walkSpeed = 1.7;\r\n\r\n  this.gunLockout = false;\r\n  this.gunLockoutTimer = 0;\r\n\r\n  this.guns = new Guns();\r\n  this.currentGun = 0;\r\n  this.gunList = [\"pistol\", \"machineGun\"];\r\n  this.stateMachine = new StateMachine();\r\n  this.currentState = \"wait\";\r\n  this.timer = 0;\r\n\r\n  this.switchGun = function(move) {\r\n    this.currentGun += move;\r\n    if (this.currentGun > this.gunList.length - 1) {\r\n      this.currentGun = 0;\r\n    }\r\n    else if (this.currentGun < 0) {\r\n      this.currentGun = this.gunList.length - 1;\r\n    }\r\n  }\r\n\r\n  this.bulletTimeActive = false;\r\n\r\n  this.facingAngle = Math.PI/2;\r\n  this.gunAngle = Math.PI/2;\r\n\r\n  this.collider = new CircleCollider();\r\n\r\n  this.head = two.makeCircle(0, 0, 20);\r\n  \r\n  this.head.fill = \"#c89\";\r\n  this.head.noStroke();\r\n\r\n  this.upperArm = two.makeLine(0, 0, 0, 0);\r\n  this.foreArm = two.makeLine(0, 0, 0, 0);\r\n\r\n  this.upperArmAngle = Math.PI/8;\r\n  this.upperArmLength = 30;\r\n  this.upperArm.stroke = \"#c89\";\r\n  this.upperArm.linewidth = 5;\r\n\r\n  this.foreArmAngle = -Math.PI/8;\r\n  this.foreArmLength = 30;\r\n  this.foreArm.stroke = \"#c89\";\r\n  this.foreArm.linewidth = 5;\r\n\r\n  this.arm = two.makeGroup(this.upperArm, this.foreArm);\r\n  //this.arm.stroke = \"#fff\";\r\n  //this.arm.linewidth = 5;\r\n\r\n  this.gunShape = two.makeLine(0, 0, 0, 0);\r\n  this.gunShape.stroke = \"#000\";\r\n  this.gunShape.linewidth = 8;\r\n\r\n  this.leftLeg = two.makeLine(0, -15, 0, -15);\r\n  this.rightLeg = two.makeLine(0, 15, 0, 15);\r\n  this.legs = two.makeGroup(this.leftLeg, this.rightLeg);\r\n  this.legs.stroke = \"#c89\";\r\n  this.legs.linewidth = 5;\r\n\r\n  this.walkCycle = 0;\r\n  this.walkDirection = 1;\r\n\r\n  // used for animations\r\n  this.skeleton = {\r\n    leftLeg : [new Vec(0, -15), new Vec(0, -15)],\r\n    rightLeg : [new Vec(0, 15), new Vec(0, 15)],\r\n\r\n    upperArm : [new Vec(0, 0), new Vec(0, 0)],\r\n    upperArmAngle : Math.PI/8,\r\n    upperArmLength : 30,\r\n\r\n    foreArm : [new Vec(0, 0), new Vec(0, 0)],\r\n    foreArmAngle : -Math.PI/8,\r\n    foreArmLength : 30\r\n  }\r\n\r\n  this.body = two.makeGroup(this.legs, this.arm, this.gunShape, this.head);\r\n  this.body.translation.set(two.width/2, two.height/2);\r\n\r\n  this.input = new input();\r\n}\n\n\n// WEBPACK FOOTER //\n// ./js/player.js","import {two, bulletList, time} from \"./main\";\r\n\r\nexport function render(p) {\r\n\r\n\r\n  p.upperArm.vertices[1].x = Math.cos(-p.skeleton.upperArmAngle) * p.upperArmLength;\r\n  p.upperArm.vertices[1].y = -Math.sin(-p.skeleton.upperArmAngle) * p.upperArmLength;\r\n\r\n  p.foreArm.vertices[0].x = p.upperArm.vertices[1].x;\r\n  p.foreArm.vertices[0].y = p.upperArm.vertices[1].y;\r\n\r\n  p.foreArm.vertices[1].x = p.foreArm.vertices[0].x + Math.cos(-p.skeleton.foreArmAngle) * p.foreArmLength;\r\n  p.foreArm.vertices[1].y = p.foreArm.vertices[0].y - Math.sin(-p.skeleton.foreArmAngle) * p.foreArmLength;\r\n\r\n  p.gunShape.vertices[0].x = p.foreArm.vertices[1].x;\r\n  p.gunShape.vertices[0].y = p.foreArm.vertices[1].y;\r\n  p.gunShape.vertices[1].x = p.gunShape.vertices[0].x + Math.cos(p.gunAngle - p.facingAngle) * 15;\r\n  p.gunShape.vertices[1].y = p.gunShape.vertices[0].y - Math.sin(p.gunAngle - p.facingAngle) * 15;\r\n\r\n  if (Math.abs(p.vel.x) > 0 || Math.abs(p.vel.y) > 0) {\r\n    let magnitude = Math.sqrt(Math.pow(p.vel.x, 2) + Math.pow(p.vel.y, 2));\r\n    p.walkCycle += p.walkDirection * magnitude * 0.1 * time;\r\n    if (p.walkDirection * p.walkCycle > 1) {\r\n      p.walkDirection *= -1;\r\n    }\r\n  }\r\n  else {\r\n    let sign = Math.sign(p.walkCycle);\r\n    p.walkCycle -= sign * 0.1;\r\n    if (Math.sign(p.walkCycle) != sign) {\r\n      p.walkCycle = 0;\r\n    }\r\n  }\r\n  p.leftLeg.vertices[1].x = p.walkCycle * 30;\r\n  p.rightLeg.vertices[1].x = -p.walkCycle * 30;\r\n\r\n\r\n  for (let i=0;i<bulletList.length;i++) {\r\n    bulletList[i].shell.translation.set(two.width/2 + bulletList[i].pos.x, two.height/2 - bulletList[i].pos.y);\r\n  }\r\n\r\n  p.body.translation.set(two.width/2 + p.pos.x, two.height/2 + p.pos.y * -1);\r\n  p.body.rotation = -p.facingAngle;\r\n}\n\n\n// WEBPACK FOOTER //\n// ./js/render.js","import {wait} from \"./wait\";\r\nimport {curve} from \"./curve\";\r\n\r\nexport function StateMachine() {\r\n  this.wait = wait;\r\n  this.curve = curve;\r\n}\n\n\n// WEBPACK FOOTER //\n// ./js/actions/StateMachine.js","import {wait} from \"./wait\";\r\nimport {time} from \"../main\";\r\n\r\nexport const curve = {\r\n  init : function(p) {\r\n    p.currentState = \"curve\";\r\n    p.timer = 0;\r\n    this.main(p);\r\n  },\r\n  main : function(p) {\r\n    p.timer += time;\r\n    if (!this.interrupt(p)) {\r\n\r\n      p.gunAngle = p.facingAngle - p.skeleton.foreArmAngle - Math.PI/16;\r\n\r\n      if (p.timer < 7) {\r\n        p.skeleton.upperArmAngle -= p.timer * 0.05 * time;\r\n        p.skeleton.foreArmAngle -= p.timer * 0.1 * time;\r\n        p.guns[p.gunList[p.currentGun]](p, true);\r\n      }\r\n      else if (p.timer > 23) {\r\n        p.skeleton.upperArmAngle -= (p.timer - 25) * -0.01 * time;\r\n        p.skeleton.foreArmAngle -= (p.timer - 25) * -0.02 * time;\r\n        p.guns[p.gunList[p.currentGun]](p);\r\n      }\r\n      else {\r\n        p.guns[p.gunList[p.currentGun]](p);\r\n      }\r\n      \r\n       \r\n    } else {\r\n      this.exit(p);\r\n    }\r\n  },\r\n  interrupt : function(p) {\r\n    if (p.timer >= 40) {\r\n      wait.init(p);\r\n      return true;\r\n    }\r\n    return false;\r\n  },\r\n  exit : function(p) {\r\n    p.skeleton.upperArmAngle = Math.PI/8;\r\n    p.skeleton.foreArmAngle = -Math.PI/8;\r\n  }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./js/actions/curve.js","import {time} from \"../../main\";\r\nimport {fireBullet} from \"./Guns\";\r\n\r\nexport function machineGun(p, curve = false) {\r\n  if (!p.gunLockout) {\r\n    if (p.input.rTrigger[0] >= 0.3) {\r\n      fireBullet(p, curve);\r\n      p.gunLockout = true;\r\n      p.gunLockoutTimer = 5;\r\n    }\r\n  }\r\n  else {\r\n    if (p.gunLockoutTimer > 0) {\r\n      p.gunLockoutTimer -= time;\r\n    }\r\n    else {\r\n      p.gunLockout = false;\r\n    }\r\n  }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./js/actions/guns/machineGun.js","import {fireBullet} from \"./Guns\";\r\n\r\nexport function pistol(p, curve = false) {\r\n  if (!p.gunLockout) {\r\n    if (p.input.rTrigger[0] >= 0.3) {\r\n      fireBullet(p, curve);\r\n      p.gunLockout = true;\r\n    }\r\n  }\r\n  else if (p.input.rTrigger[0] < 0.3) {\r\n    p.gunLockout = false;\r\n  }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./js/actions/guns/pistol.js","import {curve} from \"./curve\";\r\n\r\nexport const wait = {\r\n  init : function(p) {\r\n    p.currentState = \"wait\";\r\n    this.main(p);\r\n  },\r\n  main : function(p) {\r\n    if (!this.interrupt(p)) {\r\n      if (p.input.x[0] && !p.input.x[1]) {\r\n        p.switchGun(1);\r\n      }\r\n      p.guns[p.gunList[p.currentGun]](p);\r\n    }\r\n  },\r\n  interrupt : function(p) {\r\n    if (p.input.lBumper[0] && !p.input.lBumper[1]) {\r\n      curve.init(p);\r\n      return true;\r\n    }\r\n    return false;\r\n  },\r\n  exit : function(p) {\r\n\r\n  }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./js/actions/wait.js","import {Point} from \"./Point\";\r\n\r\nexport function CircleCollider(radius = 0, point = new Point()) {\r\n  this.radius = radius;\r\n  this.point = point;\r\n}\n\n\n// WEBPACK FOOTER //\n// ./js/utils/CircleCollider.js","export function Point(x = 0, y = 0){\r\n  this.x = x;\r\n  this.y = y;\r\n}\n\n\n// WEBPACK FOOTER //\n// ./js/utils/Point.js"],"sourceRoot":""}